#!/usr/bin/env php

<?php

$autoloadPath1 = __DIR__ . '/../../../autoload.php';
$autoloadPath2 = __DIR__ . '/../vendor/autoload.php';
  
if (file_exists($autoloadPath1)) {
    require_once $autoloadPath1;
} else {
    require_once $autoloadPath2;
}

use function cli\line;
use function cli\prompt;
use function Brain\Games\CheckEven\evenOrOdd;
use function Brain\Games\CheckEven\checkingAnswer;
  
line('Welcome to the Brain Game!');
$name = prompt('May I have your name?');
line("Hello, %s!", $name);
line('Answer "yes" if the number is even, otherwise answer "no".');

$numbers = [15, 6, 7];
$count = 0;
foreach ($numbers as $number) {
    line("Question: {$number}");
    $answer = prompt('Your answer');
    $checkNum = evenOrOdd($number);
    $checkAnswer = checkingAnswer($checkNum, $answer);
    if ($checkAnswer === true) {
        line('Correct!');
        $count++;
    } else {
        $a = "'{$checkAnswer}' is wrong answer ;(. Correct answer was '{$checkNum}'";
        line("{$a}");
        line("Let's try again, %s!", $name);
    }
}
if ($count == count($numbers)) {
    line("Congratulations, %s!", $name);
} else {
    line("Try again later, %s!", $name);
}







